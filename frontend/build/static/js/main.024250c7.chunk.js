(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{103:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r(0),s=r(18),c=r.n(s),o=r(11),i=r(30),l=r(64),u=r(65),d=r(52),j="USER_LOGIN_REQUEST",p="USER_LOGIN_SUCCESS",b="USER_LOGIN_FAIL",h="USER_LOGOUT",O="USER_REGISTER_REQUEST",g="USER_REGISTER_SUCCESS",x="USER_REGISTER_FAIL",f="USER_DETAILS_REQUEST",m="USER_DETAILS_SUCCESS",E="USER_DETAILS_FAIL",S="USER_DETAILS_RESET",v="USER_UPDATE_PROFILE_REQUEST",y="USER_UPDATE_PROFILE_SUCCESS",I="USER_UPDATE_PROFILE_FAIL",R="USER_UPDATE_PROFILE_RESET",U="USER_LIST_REQUEST",_="USER_LIST_SUCCESS",L="USER_LIST_FAIL",C="USER_LIST_RESET",w="USER_DELETE_REQUEST",T="USER_DELETE_SUCCESS",k="USER_DELETE_FAIL",P="USER_UPDATE_REQUEST",A="USER_UPDATE_SUCCESS",D="USER_UPDATE_FAIL",N="USER_UPDATE_RESET",G=Object(i.combineReducers)({userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case j:return{loading:!0};case p:return{loading:!1,userInfo:n};case b:return{loading:!1,error:n};case h:return{loading:!1,userInfo:null};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case O:return{loading:!0};case g:return{loading:!1,userInfo:n};case x:return{loading:!1,error:n};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case f:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case m:return{loading:!1,user:n};case E:return{loading:!1,error:n};case S:return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case v:return{loading:!0};case y:return{loading:!1,success:!0,userInfo:n};case I:return{loading:!1,error:n};case R:return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case U:return{loading:!0};case _:return{loading:!1,users:n};case L:return{loading:!1,error:n};case C:return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case w:return{loading:!0};case T:return{loading:!1,success:!0};case k:return{loading:!1,error:n};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case P:return{loading:!0};case A:return{loading:!1,success:!0};case D:return{loading:!1,error:n};case N:return{user:{}};default:return e}}}),F={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},Q=[l.a],J=Object(i.createStore)(G,F,Object(u.composeWithDevTools)(i.applyMiddleware.apply(void 0,Q))),B=(r(79),r(80),r(24)),z=r(7),H=r(108),M=r(31),W=r(113),Y=r(114),q=r(111),K=r(13),V=r.n(K),X=r(28),Z=r(29),$=r.n(Z),ee=function(){return function(e){localStorage.removeItem("userInfo"),e({type:h}),e({type:S}),e({type:C})}},te=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.userLogin})).userInfo;return Object(n.jsx)("header",{children:Object(n.jsx)(W.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(n.jsxs)(H.a,{children:[Object(n.jsx)(M.LinkContainer,{to:"/",children:Object(n.jsx)(W.a.Brand,{children:"React Template"})}),Object(n.jsx)(W.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(n.jsx)(W.a.Collapse,{id:"basic-navbar-nav",children:Object(n.jsx)(Y.a,{className:"ml-auto",children:t?Object(n.jsxs)(q.a,{title:t.name,id:"username",children:[Object(n.jsx)(M.LinkContainer,{to:"/profile",children:Object(n.jsx)(q.a.Item,{children:"Profile"})}),Object(n.jsx)(q.a.Item,{onClick:function(){e(ee())},children:"Logout"})]}):Object(n.jsx)(M.LinkContainer,{to:"/login",children:Object(n.jsxs)(Y.a.Link,{href:"/login",children:[Object(n.jsx)("i",{className:"fas fa-user"})," Sign In"]})})})})]})})})},re=r(109),ne=r(69),ae=function(){return Object(n.jsx)("footer",{children:Object(n.jsx)(H.a,{children:Object(n.jsx)(re.a,{children:Object(n.jsx)(ne.a,{className:"text-center py-3",children:"CopyRight \xa9 socketioChat"})})})})},se=r(68),ce=function(e){e.match;return Object(n.jsxs)(a.Fragment,{children:[Object(n.jsx)("h1",{children:"Your new project"}),Object(n.jsxs)("div",{className:"mb-2",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:"10px"},children:[Object(n.jsx)(M.LinkContainer,{to:"/login",children:Object(n.jsx)(se.a,{className:"homescreen-button",variant:"primary",size:"lg",width:"100px",children:"Login"})}),Object(n.jsx)(M.LinkContainer,{to:"/register",children:Object(n.jsx)(se.a,{className:"homescreen-button",variant:"secondary",size:"lg",children:"Register"})})]})]})},oe=r(12),ie=r(112),le=r(115),ue=function(e){var t=e.variant,r=e.children;return Object(n.jsx)(le.a,{variant:t,children:r})};ue.defaultProps={variant:"info"};var de=ue,je=r(110),pe=function(){return Object(n.jsx)(je.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})})},be=function(e){var t=e.children;return Object(n.jsx)(H.a,{children:Object(n.jsx)(re.a,{className:"justify-content-md-center",children:Object(n.jsx)(ne.a,{xs:12,md:6,children:t})})})},he=function(e){var t=e.location,r=e.history,s=Object(a.useState)(""),c=Object(oe.a)(s,2),i=c[0],l=c[1],u=Object(a.useState)(""),d=Object(oe.a)(u,2),h=d[0],O=d[1],g=Object(o.b)(),x=Object(o.c)((function(e){return e.userLogin})),f=x.loading,m=x.error,E=x.userInfo,S=t.search?t.search.split("=")[1]:"/";Object(a.useEffect)((function(){E&&r.push(S)}),[r,E,S]);return Object(n.jsxs)(be,{children:[Object(n.jsx)("h1",{children:"Sign In"}),m&&Object(n.jsx)(de,{variant:"danger",children:m}),f&&Object(n.jsx)(pe,{}),Object(n.jsxs)(ie.a,{onSubmit:function(e){e.preventDefault(),g(function(e,t){return function(){var r=Object(X.a)(V.a.mark((function r(n){var a,s,c;return V.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:j}),a={headers:{"Content-Type":"application/json"}},r.next=5,$.a.post("/api/users/login",{email:e,password:t},a);case 5:s=r.sent,c=s.data,n({type:p,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:b,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(i,h))},children:[Object(n.jsxs)(ie.a.Group,{controlId:"email",children:[Object(n.jsx)(ie.a.Label,{children:"Email Address"}),Object(n.jsx)(ie.a.Control,{type:"email",placeholder:"Enter email",value:i,onChange:function(e){return l(e.target.value)}})]}),Object(n.jsxs)(ie.a.Group,{controlId:"password",children:[Object(n.jsx)(ie.a.Label,{children:"Password"}),Object(n.jsx)(ie.a.Control,{type:"password",placeholder:"Enter password",value:h,onChange:function(e){return O(e.target.value)}})]}),Object(n.jsx)(se.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(n.jsx)(re.a,{className:"py-3",children:Object(n.jsxs)(ne.a,{children:["New Customer?"," ",Object(n.jsx)(B.Link,{to:S?"/register?redirect=".concat(S):"/register",children:"Register"})]})})]})},Oe=function(e){var t=e.location,r=e.history,s=Object(a.useState)(""),c=Object(oe.a)(s,2),i=c[0],l=c[1],u=Object(a.useState)(""),d=Object(oe.a)(u,2),j=d[0],b=d[1],h=Object(a.useState)(""),f=Object(oe.a)(h,2),m=f[0],E=f[1],S=Object(a.useState)(""),v=Object(oe.a)(S,2),y=v[0],I=v[1],R=Object(a.useState)(null),U=Object(oe.a)(R,2),_=U[0],L=U[1],C=Object(o.b)(),w=Object(o.c)((function(e){return e.userRegister})),T=w.loading,k=w.error,P=w.userInfo,A=t.search?t.search.split("=")[1]:"/";Object(a.useEffect)((function(){P&&r.push(A)}),[r,P,A]);return Object(n.jsxs)(be,{children:[Object(n.jsx)("h1",{children:"Sign Up"}),_&&Object(n.jsx)(de,{variant:"danger",children:_}),k&&Object(n.jsx)(de,{variant:"danger",children:k}),T&&Object(n.jsx)(pe,{}),Object(n.jsxs)(ie.a,{onSubmit:function(e){e.preventDefault(),m!==y?L("Passwords do not match"):C(function(e,t,r){return function(){var n=Object(X.a)(V.a.mark((function n(a){var s,c,o;return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:O}),s={headers:{"Content-Type":"application/json"}},n.next=5,$.a.post("/api/users",{name:e,email:t,password:r},s);case 5:c=n.sent,o=c.data,a({type:g,payload:o}),a({type:p,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),a({type:x,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(i,j,m))},children:[Object(n.jsxs)(ie.a.Group,{controlId:"name",children:[Object(n.jsx)(ie.a.Label,{children:"Name"}),Object(n.jsx)(ie.a.Control,{type:"text",placeholder:"Enter name",value:i,onChange:function(e){return l(e.target.value)}})]}),Object(n.jsxs)(ie.a.Group,{controlId:"email",children:[Object(n.jsx)(ie.a.Label,{children:"Email Address"}),Object(n.jsx)(ie.a.Control,{type:"email",placeholder:"Enter email",value:j,onChange:function(e){return b(e.target.value)}})]}),Object(n.jsxs)(ie.a.Group,{controlId:"password",children:[Object(n.jsx)(ie.a.Label,{children:"Password"}),Object(n.jsx)(ie.a.Control,{type:"password",placeholder:"Enter password",value:m,onChange:function(e){return E(e.target.value)}})]}),Object(n.jsxs)(ie.a.Group,{controlId:"confirmPassword",children:[Object(n.jsx)(ie.a.Label,{children:"Confirm Password"}),Object(n.jsx)(ie.a.Control,{type:"password",placeholder:"Confirm password",value:y,onChange:function(e){return I(e.target.value)}})]}),Object(n.jsx)(se.a,{type:"submit",variant:"primary",children:"Register"})]}),Object(n.jsx)(re.a,{className:"py-3",children:Object(n.jsxs)(ne.a,{children:["Have an Account?"," ",Object(n.jsx)(B.Link,{to:A?"/login?redirect=".concat(A):"/login",children:"Register"})]})})]})},ge=function(e){e.location;var t=e.history,r=Object(a.useState)(""),s=Object(oe.a)(r,2),c=s[0],i=s[1],l=Object(a.useState)(""),u=Object(oe.a)(l,2),d=u[0],j=u[1],b=Object(a.useState)(""),h=Object(oe.a)(b,2),O=h[0],g=h[1],x=Object(a.useState)(""),S=Object(oe.a)(x,2),U=S[0],_=S[1],L=Object(a.useState)(null),C=Object(oe.a)(L,2),w=C[0],T=C[1],k=Object(o.b)(),P=Object(o.c)((function(e){return e.userDetails})),A=P.loading,D=P.error,N=P.user,G=Object(o.c)((function(e){return e.userLogin})).userInfo,F=Object(o.c)((function(e){return e.userUpdateProfile})).success;Object(a.useEffect)((function(){var e;G?N&&N.name&&!F?(i(N.name),j(N.email)):(k({type:R}),k((e="profile",function(){var t=Object(X.a)(V.a.mark((function t(r,n){var a,s,c,o,i;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:f}),a=n(),s=a.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,$.a.get("/api/users/".concat(e),c);case 6:o=t.sent,i=o.data,r({type:m,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:E,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()))):t.push("/login")}),[k,t,G,N,F]);return Object(n.jsxs)(re.a,{children:[Object(n.jsxs)(ne.a,{md:3,children:[Object(n.jsx)("h2",{children:"User Profile"}),w&&Object(n.jsx)(de,{variant:"danger",children:w}),D&&Object(n.jsx)(de,{variant:"danger",children:D}),F&&Object(n.jsx)(de,{variant:"success",children:"Profile Updated"}),A&&Object(n.jsx)(pe,{}),Object(n.jsxs)(ie.a,{onSubmit:function(e){e.preventDefault(),O!==U?T("Passwords do not match"):k(function(e){return function(){var t=Object(X.a)(V.a.mark((function t(r,n){var a,s,c,o,i;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:v}),a=n(),s=a.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,$.a.put("/api/users/profile",e,c);case 6:o=t.sent,i=o.data,r({type:y,payload:i}),r({type:p,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),r({type:I,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()}({id:N._id,name:c,email:d,password:O}))},children:[Object(n.jsxs)(ie.a.Group,{controlId:"name",children:[Object(n.jsx)(ie.a.Label,{children:"Name"}),Object(n.jsx)(ie.a.Control,{type:"text",placeholder:"Enter name",value:c,onChange:function(e){return i(e.target.value)}})]}),Object(n.jsxs)(ie.a.Group,{controlId:"email",children:[Object(n.jsx)(ie.a.Label,{children:"Email Address"}),Object(n.jsx)(ie.a.Control,{type:"email",placeholder:"Enter email",value:d,onChange:function(e){return j(e.target.value)}})]}),Object(n.jsxs)(ie.a.Group,{controlId:"password",children:[Object(n.jsx)(ie.a.Label,{children:"Password"}),Object(n.jsx)(ie.a.Control,{type:"password",placeholder:"Enter password",value:O,onChange:function(e){return g(e.target.value)}})]}),Object(n.jsxs)(ie.a.Group,{controlId:"confirmPassword",children:[Object(n.jsx)(ie.a.Label,{children:"Confirm Password"}),Object(n.jsx)(ie.a.Control,{type:"password",placeholder:"Confirm password",value:U,onChange:function(e){return _(e.target.value)}})]}),Object(n.jsx)(se.a,{type:"submit",variant:"primary",children:"Update"})]})]}),Object(n.jsxs)(ne.a,{md:9,children:[Object(n.jsx)("h2",{children:" Column 2"}),Object(n.jsx)("div",{children:" Code goes here"})]})]})},xe=function(){return Object(n.jsxs)(B.BrowserRouter,{children:[Object(n.jsx)(te,{}),Object(n.jsx)("main",{className:"py-3",children:Object(n.jsxs)(H.a,{children:[Object(n.jsx)(z.d,{path:"/login",component:he}),Object(n.jsx)(z.d,{path:"/register",component:Oe}),Object(n.jsx)(z.d,{path:"/profile",component:ge}),Object(n.jsx)(z.d,{path:"/search/:keyword",component:ce,exact:!0}),Object(n.jsx)(z.d,{path:"/page/:pageNumber",component:ce,exact:!0}),Object(n.jsx)(z.d,{path:"/search/:keyword/page/:pageNumber",component:ce,exact:!0}),Object(n.jsx)(z.d,{path:"/",component:ce,exact:!0})]})}),Object(n.jsx)(ae,{})]})};c.a.render(Object(n.jsx)(o.a,{store:J,children:Object(n.jsx)(xe,{})}),document.getElementById("root"))},79:function(e,t,r){},80:function(e,t,r){}},[[103,1,2]]]);
//# sourceMappingURL=main.024250c7.chunk.js.map